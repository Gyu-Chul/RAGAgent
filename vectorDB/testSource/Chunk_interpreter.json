[
  {
    "type": "module",
    "name": "",
    "start_line": 1,
    "end_line": 9,
    "code": "from lexical_analyzer.lexicalAnalyzer_class import LexicalAnalyzer\nfrom syntax_analyzer.syntaxAnalyzer_class import SyntaxAnalyzer\nfrom semantic_analyzer.semanticAnalyzer_class import SemanticAnalyzer\nimport os\nimport ast\nimport sys\nimport inspect\nimport ctypes\nfrom pympler import asizeof  # ì „ì²´ ê°ì²´ í¬ê¸° ì¸¡ì •",
    "commit_id": "a1bchul",
    "file_path": "\\Gyu-Chul\\HAB\\interpreter.py"
  },
  {
    "type": "function",
    "name": "get_raw_integer_info",
    "start_line": 11,
    "end_line": 31,
    "code": "# âœ… `ctypes`ë¥¼ ì‚¬ìš©í•˜ì—¬ ìˆ«ì ê°ì²´ ë‚´ë¶€ ì •ìˆ˜ ë°ì´í„°ì˜ ì£¼ì†Œ, í¬ê¸°, íƒ€ì…ì„ ê°€ì ¸ì˜¤ëŠ” í•¨ìˆ˜\n def get_raw_integer_info(py_int_obj):\n    \"\"\"\n    Pythonì˜ int ê°ì²´ ë‚´ë¶€ì—ì„œ ì‹¤ì œ ì •ìˆ˜ ë°ì´í„°ê°€ ì €ì¥ëœ ë©”ëª¨ë¦¬ ì£¼ì†Œ, í¬ê¸°, íƒ€ì…ì„ ê°€ì ¸ì˜´.\n    \"\"\"\n    # Python ì •ìˆ˜ ê°ì²´ì˜ ë©”ëª¨ë¦¬ ì£¼ì†Œ (ê°ì²´ ìì²´)\n    obj_address = id(py_int_obj)\n\n    # `ctypes`ë¥¼ ì‚¬ìš©í•˜ì—¬ Python `int` ê°ì²´ë¥¼ Cì˜ long íƒ€ì… í¬ì¸í„°ë¡œ ë³€í™˜\n    c_int_p = ctypes.cast(obj_address, ctypes.POINTER(ctypes.c_long))\n\n    # `PyLongObject`ì˜ í—¤ë” í¬ê¸° ê³„ì‚° (ë³´í†µ 24ë°”ì´íŠ¸, í”Œë«í¼ì— ë”°ë¼ ë‹¤ë¦„)\n    header_size = ctypes.sizeof(ctypes.c_void_p) * 3  # CPythonì˜ PyObject_VAR_HEAD í¬ê¸°\n\n    # ë‚´ë¶€ ì •ìˆ˜ ë°ì´í„°(`ob_digit[0]`)ì˜ ì‹¤ì œ ë©”ëª¨ë¦¬ ì£¼ì†Œ\n    raw_integer_address = obj_address + header_size\n\n    # ì‹¤ì œ ì›ë³¸ ìˆ«ìì˜ í¬ê¸° (ë³´í†µ 4~8 ë°”ì´íŠ¸)\n    raw_integer_size = ctypes.sizeof(ctypes.c_long)\n\n    return raw_integer_address, raw_integer_size, int  # Pythonì—ì„œ ìˆ«ìëŠ” í•­ìƒ int",
    "commit_id": "a1bchul",
    "file_path": "\\Gyu-Chul\\HAB\\interpreter.py"
  },
  {
    "type": "function",
    "name": "log_number",
    "start_line": 34,
    "end_line": 47,
    "code": "# âœ… ì‹¤ì œ ë°ì´í„° ì‚¬ìš© ì‹œ ì‹¤í–‰ë˜ëŠ” í•¨ìˆ˜/n  def log_number(value, obj_address, obj_type, obj_size, raw_info, total_size, line):\n    raw_address, raw_size, raw_type = raw_info  # `get_raw_integer_info()`ì—ì„œ ê°€ì ¸ì˜¨ ê°’\n\n    print(f\"ğŸ”¹ ìˆ«ì {value}\")\n    print(f\"   â”œâ”€ ê°ì²´ ë©”ëª¨ë¦¬ ì£¼ì†Œ: {hex(obj_address)}\")\n    print(f\"   â”œâ”€ ê°ì²´ íƒ€ì…: {obj_type.__name__}\")\n    print(f\"   â”œâ”€ ê°ì²´ í¬ê¸°: {obj_size} bytes\")\n    print(f\"   â”œâ”€ ì‹¤ì œ ì›ë³¸ ìˆ«ìì˜ ë©”ëª¨ë¦¬ ì£¼ì†Œ: {hex(raw_address)}\")\n    print(f\"   â”œâ”€ ì‹¤ì œ ì›ë³¸ ìˆ«ìì˜ í¬ê¸°: {raw_size} bytes\")\n    print(f\"   â”œâ”€ ì‹¤ì œ ì›ë³¸ ìˆ«ìì˜ íƒ€ì…: {raw_type.__name__}\")\n    print(f\"   â”œâ”€ ì „ì²´ ê°ì²´ í¬ê¸° (pympler asizeof): {total_size} bytes\")\n    print(f\"   â””â”€ ì½”ë“œ ì¤„ ë²ˆí˜¸: {line}\")\n    return value",
    "commit_id": "a1bchul",
    "file_path": "\\Gyu-Chul\\HAB\\interpreter.py"
  },
  {
    "type": "function",
    "name": "log_operator",
    "start_line": 50,
    "end_line": 72,
    "code": "# âœ… ì—°ì‚° ìˆ˜í–‰ í›„ ëª¨ë“  ê³¼ì • ì¶œë ¥\n def log_operator(left, right, op, line):\n    if op == \"Add\":\n        result = left + right\n        symbol = \"+\"\n    elif op == \"Sub\":\n        result = left - right\n        symbol = \"-\"\n    elif op == \"Mult\":\n        result = left * right\n        symbol = \"*\"\n    elif op == \"Div\":\n        result = left / right\n        symbol = \"/\"\n    else:\n        result = None\n        symbol = \"?\"\n\n    print(f\"ğŸ”¸ ì—°ì‚° ({left} {symbol} {right}) = {result} (ì½”ë“œ ì¤„ ë²ˆí˜¸: {line})\")\n\n    # ì—°ì‚° ê²°ê³¼ë„ ë¡œê·¸ ì¶œë ¥\n    return log_number(result, id(result), type(result), sys.getsizeof(result),\n                      get_raw_integer_info(result), asizeof.asizeof(result), line)",
    "commit_id": "a1bchul",
    "file_path": "\\Gyu-Chul\\HAB\\interpreter.py"
  },
  {
    "type": "class",
    "name": "Interpreter",
    "start_line": 74,
    "end_line": 101,
    "code": "class Interpreter:\n    \n    def __init__(self):\n        print(\"Interpreter class created in hab.py\\n\")\n\n    def run(self):\n        print(\"==== INTERPRETER.PY ====\")\n        baseDir = os.path.abspath(os.path.join(__file__, \"../\"))\n        filePath = os.path.join(baseDir, \"script.py\")\n\n        if not os.path.isfile(filePath):\n            print(f\"[ERROR] íŒŒì¼ì´ ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤: {filePath}\")\n            raise \"FileNotExist\"\n\n        lexicalAnalyzer = LexicalAnalyzer(filePath)\n        syntaxAnalyzer = SyntaxAnalyzer(filePath)\n        semanticAnalyzer = SemanticAnalyzer()\n\n        lexicalAnalyzer.run()\n\n        syntaxAnalyzer.run()\n        print(\"==== Original Parse Tree ====\")\n        syntaxAnalyzer.printOriginalAstTree()\n\n        semanticAnalyzer.run()\n        print(\"==== INTERPRETER.PY OVER ====\")\n\n        exec(compile(syntaxAnalyzer.habAstTree, filename=\"<ast>\", mode=\"exec\"))",
    "commit_id": "a1bchul",
    "file_path": "\\Gyu-Chul\\HAB\\interpreter.py"
  }
]
