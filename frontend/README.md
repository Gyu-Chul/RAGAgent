# Frontend Service - RAGIT

## 목차
- [개요](#개요)
- [화면 구성](#화면-구성)
- [사용자 플로우](#사용자-플로우)
- [페이지 상세](#페이지-상세)
- [기술 스택](#기술-스택)
- [실행 방법](#실행-방법)

---

## 개요

RAGIT Frontend는 사용자가 GitHub 저장소를 AI와 대화하며 탐색할 수 있는 웹 인터페이스입니다.

### 주요 기능
- 📁 GitHub 저장소 연동 및 관리
- 💬 AI와 실시간 대화 (RAG 기반)
- 👥 팀 멤버 초대 및 권한 관리
- 📊 저장소 처리 상태 모니터링

---

## 화면 구성

### 전체 페이지 구조

```
┌─────────────────────────────────────────┐
│         RAGIT 웹 애플리케이션            │
└─────────────────────────────────────────┘
              │
              ├─ 로그인/회원가입 화면
              │
              ├─ 메인 대시보드
              │   ├─ Repository 목록
              │   └─ 통계 정보
              │
              ├─ Repository 관리 화면
              │   ├─ Repository 생성
              │   ├─ 멤버 관리
              │   └─ 설정
              │
              ├─ Chat 화면
              │   ├─ ChatRoom 목록
              │   ├─ 메시지 영역
              │   └─ AI 응답 (RAG 출처 포함)
              │
              ├─ 계정 설정 화면
              │   └─ 프로필 수정
              │
              └─ Vector DB 관리 (Admin 전용)
                  └─ 컬렉션 목록
```

---

## 사용자 플로우

### 1. 회원가입 및 로그인

```
┌─────────────┐
│  로그인 화면 │
└──────┬──────┘
       │
       ├─ 이미 계정이 있는 경우
       │  ├─ 이메일 입력
       │  ├─ 비밀번호 입력
       │  └─ 로그인 → 메인 대시보드
       │
       └─ 계정이 없는 경우
          ├─ "Signup" 탭 클릭
          ├─ 사용자명, 이메일, 비밀번호 입력
          ├─ 회원가입
          └─ 로그인 화면으로 이동
```

### 2. Repository 생성 및 관리

```
┌─────────────────┐
│  메인 대시보드   │
└────────┬────────┘
         │
         ├─ "Repositories" 클릭
         │
┌────────▼────────────┐
│ Repository 관리 화면 │
└────────┬────────────┘
         │
         ├─ "Create New Repository" 클릭
         │  ├─ Repository 이름 입력
         │  ├─ GitHub URL 입력
         │  ├─ 설명 입력 (선택)
         │  └─ 생성
         │     └─ 자동으로 백그라운드 처리 시작
         │        (Git Clone → 파싱 → Vector DB 임베딩)
         │
         ├─ Repository 카드 클릭
         │  └─ Repository 상세 정보
         │     ├─ 처리 상태 (pending/syncing/active)
         │     ├─ 파일 개수
         │     └─ 멤버 목록
         │
         └─ "Add Member" 클릭
            ├─ 이메일로 사용자 검색
            ├─ 역할 선택 (admin/member/viewer)
            └─ 초대
```

### 3. AI Chat 사용

```
┌─────────────────┐
│  메인 대시보드   │
└────────┬────────┘
         │
         ├─ Repository 카드에서 "💬 Chat" 클릭
         │
┌────────▼────────────┐
│   Chat 화면         │
│  ┌──────┬─────────┐ │
│  │Chat  │  Chat   │ │
│  │Rooms │  Area   │ │
│  └──────┴─────────┘ │
└─────────────────────┘
         │
         ├─ 사이드바에서 "➕ Add Chat" 클릭
         │  ├─ ChatRoom 이름 입력
         │  └─ ChatRoom 생성
         │
         ├─ ChatRoom 선택
         │
         └─ 메시지 입력 및 전송
            ├─ 사용자 메시지 즉시 표시
            ├─ AI 응답 대기 (로딩 표시)
            └─ AI 응답 수신
               ├─ 답변 내용
               └─ RAG 출처 (코드 파일 경로)
```

---

## 페이지 상세

### 1. 로그인/회원가입 화면

**경로**: `/login`, `/signup`

**화면 구성**:
```
┌──────────────────────────────────┐
│         🤖 RAGIT                 │
├──────────────────────────────────┤
│                                  │
│    ┌─────────┬──────────┐       │
│    │  Login  │  Signup  │       │
│    └─────────┴──────────┘       │
│                                  │
│    Email:    [____________]      │
│    Password: [____________]      │
│                                  │
│         [    Login    ]          │
│                                  │
└──────────────────────────────────┘
```

**기능**:
- 로그인/회원가입 탭 전환
- 이메일/비밀번호 입력
- 로그인 성공 시 메인 대시보드로 이동

---

### 2. 메인 대시보드

**경로**: `/main`, `/`

**화면 구성**:
```
┌────────────────────────────────────────────────────┐
│  🤖 RAGIT    Welcome, User    📁 Repositories  🚪  │
├────────────────────────────────────────────────────┤
│                                                    │
│  Your Repositories              Quick Stats       │
│  ┌─────────────────────────┐  ┌────────────────┐ │
│  │ 📁 my-project           │  │ 📁 Total: 5    │ │
│  │ Python web app          │  │ 📄 Files: 234  │ │
│  │ Status: ✅ active        │  │ 🗄️ Colls: 12   │ │
│  │ 📄 50 files  🗄️ 3 colls  │  └────────────────┘ │
│  │                         │                      │
│  │  [💬 Chat] [⚙️ Manage]  │                      │
│  └─────────────────────────┘                      │
│                                                    │
│  ┌─────────────────────────┐                      │
│  │ 📁 another-repo         │                      │
│  │ Data analysis project   │                      │
│  │ Status: 🔄 syncing      │                      │
│  └─────────────────────────┘                      │
│                                                    │
└────────────────────────────────────────────────────┘
```

**기능**:
- 최근 Repository 3개 표시
- Repository별 상태 뱃지
  - ✅ active: 처리 완료
  - 🔄 syncing: 처리 중
  - ❌ error: 처리 실패
- Quick Stats: 전체 통계
- Chat 버튼: Chat 화면으로 이동
- Manage 버튼: Repository 관리 화면으로 이동

---

### 3. Repository 관리 화면

**경로**: `/repositories`

**화면 구성**:
```
┌────────────────────────────────────────────────────┐
│  🤖 RAGIT    Welcome, User    📁 Repositories  🚪  │
├────────────────────────────────────────────────────┤
│                                                    │
│  Repository Management                            │
│                                                    │
│  [+ Create New Repository]                        │
│                                                    │
│  ┌──────────────────────────────────────────────┐ │
│  │ Name          URL              Status  Files │ │
│  ├──────────────────────────────────────────────┤ │
│  │ my-project    github.com/...   ✅      50   │ │
│  │ [💬 Chat] [👥 Members] [⚙️]                  │ │
│  ├──────────────────────────────────────────────┤ │
│  │ data-repo     github.com/...   🔄      120  │ │
│  │ [💬 Chat] [👥 Members] [⚙️]                  │ │
│  └──────────────────────────────────────────────┘ │
│                                                    │
│  Repository Details: my-project                   │
│  ┌─────────────────────────────────────────────┐  │
│  │ Members                   [+ Add Member]    │  │
│  │                                             │  │
│  │ • user@example.com       (admin)      [✕]  │  │
│  │ • member@example.com     (member)     [✕]  │  │
│  │ • viewer@example.com     (viewer)     [✕]  │  │
│  └─────────────────────────────────────────────┘  │
│                                                    │
└────────────────────────────────────────────────────┘
```

**기능**:
- Repository 생성
  - GitHub URL 입력
  - 자동으로 백그라운드 처리 시작
- Repository 목록 테이블
- 멤버 관리
  - 이메일로 검색하여 초대
  - 역할 변경 (admin/member/viewer)
  - 멤버 제거
- 처리 상태 모니터링

---

### 4. Chat 화면

**경로**: `/chat/{repo_id}`

**화면 구성**:
```
┌────────────────────────────────────────────────────────────┐
│  🤖 RAGIT    Welcome, User    📁 Repositories  🚪          │
├──────────┬─────────────────────────────────────────────────┤
│          │                                                 │
│ 💬 Chat  │  💬 General Discussion                          │
│  Rooms   │  my-project • 15 messages                       │
│          ├─────────────────────────────────────────────────┤
│ [+ Add]  │                                                 │
│          │  ┌─────────────────────────────────────────┐   │
│ • General│  │  User: What does main.py do?            │   │
│ • Coding │  │                                    10:30 │   │
│ • Bugs   │  └─────────────────────────────────────────┘   │
│          │                                                 │
│          │  ┌─────────────────────────────────────────┐   │
│          │  │ 🤖 RAGIT          AI + RAG         10:31│   │
│          │  ├─────────────────────────────────────────┤   │
│          │  │ main.py는 FastAPI 애플리케이션의 진입점  │   │
│          │  │ 입니다. 라우터를 등록하고 CORS를 설정... │   │
│          │  │                                         │   │
│          │  │ 📚 Retrieved from Repository            │   │
│          │  │ 1. src/main.py                          │   │
│          │  │ 2. src/config.py                        │   │
│          │  └─────────────────────────────────────────┘   │
│          │                                                 │
│          ├─────────────────────────────────────────────────┤
│          │  [Ask anything about my-project...]  [Send]    │
│          │                                                 │
└──────────┴─────────────────────────────────────────────────┘
```

**기능**:
- 사이드바: ChatRoom 목록
  - ChatRoom 생성 버튼
  - ChatRoom 선택
- Chat 영역
  - 메시지 히스토리 (스크롤 가능)
  - 사용자 메시지: 우측 정렬, 보라색
  - AI 메시지: 좌측 정렬, 흰색
    - AI 헤더 (🤖 RAGIT)
    - 답변 내용
    - RAG 출처 표시 (검색된 파일 경로)
- 입력 영역
  - 텍스트 입력
  - Enter: 전송 / Shift+Enter: 줄바꿈
  - Send 버튼

**AI 응답 프로세스**:
1. 사용자가 메시지 전송
2. 사용자 메시지 즉시 표시
3. AI 응답 로딩 표시 (점 3개 애니메이션)
4. 2초마다 새 메시지 확인 (폴링)
5. AI 응답 수신 시 로딩 제거 및 메시지 표시

---

### 5. 계정 설정 화면

**경로**: `/account`

**화면 구성**:
```
┌────────────────────────────────────────────────────┐
│  🤖 RAGIT    Welcome, User    📁 Repositories  🚪  │
├────────────────────────────────────────────────────┤
│                                                    │
│  Account Settings                                 │
│                                                    │
│  ┌─────────────────────────────────────────────┐  │
│  │ Profile Information                         │  │
│  │                                             │  │
│  │ Username:  [____________]                   │  │
│  │ Email:     user@example.com (read-only)     │  │
│  │ Role:      user                             │  │
│  │                                             │  │
│  │          [Update Profile]                   │  │
│  └─────────────────────────────────────────────┘  │
│                                                    │
└────────────────────────────────────────────────────┘
```

**기능**:
- 사용자명 수정
- 이메일 조회 (수정 불가)
- 역할 표시 (user/admin)

---

### 6. Vector DB 관리 화면 (Admin 전용)

**경로**: `/admin/vectordb/{repo_id}`

**화면 구성**:
```
┌────────────────────────────────────────────────────┐
│  🤖 RAGIT    Welcome, Admin   📁 Repositories  🚪  │
├────────────────────────────────────────────────────┤
│                                                    │
│  Vector DB Management: my-project                 │
│                                                    │
│  ┌──────────────────────────────────────────────┐ │
│  │ Collection Name      Dimension    Metric    │ │
│  ├──────────────────────────────────────────────┤ │
│  │ my-project-main      768          cosine    │ │
│  │ my-project-docs      768          cosine    │ │
│  └──────────────────────────────────────────────┘ │
│                                                    │
└────────────────────────────────────────────────────┘
```

**기능**:
- Vector DB 컬렉션 목록 조회
- 컬렉션 메타데이터 확인
- Admin 권한 필요

---

## 기술 스택

| 기술 | 용도 |
|------|------|
| **NiceGUI** 1.4.24 | Python 웹 UI 프레임워크 |
| **Python** ≥3.11 | 메인 언어 |
| **requests** | HTTP 통신 (Gateway API) |

---


### 기본 계정

| 이메일 | 비밀번호 | 역할 |
|--------|----------|------|
| admin@ragit.com | admin123 | admin |
| user@ragit.com | user123 | user |

---

## 화면별 권한

| 화면 | 일반 사용자 | Admin |
|------|------------|-------|
| 로그인/회원가입 | ✓ | ✓ |
| 메인 대시보드 | ✓ | ✓ |
| Repository 관리 | ✓ | ✓ |
| Chat | ✓ | ✓ |
| 계정 설정 | ✓ | ✓ |
| Vector DB 관리 | ✗ | ✓ |

**Repository별 권한**:
- **owner**: 모든 권한 (삭제 포함)
- **admin**: 멤버 관리, 설정 변경
- **member**: 읽기/쓰기 (Chat 가능)
- **viewer**: 읽기만 가능
